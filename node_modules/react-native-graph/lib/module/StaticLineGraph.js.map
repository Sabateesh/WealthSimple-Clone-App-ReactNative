{"version":3,"sources":["StaticLineGraph.tsx"],"names":["Canvas","LinearGradient","Path","vec","getSixDigitHex","React","useCallback","useMemo","useState","View","StyleSheet","createGraphPath","getGraphPathRange","getPointsInRange","StaticLineGraph","points","allPoints","range","color","lineThickness","enableFadeInMask","style","props","width","setWidth","height","setHeight","onLayout","nativeEvent","layout","Math","round","pathRange","pointsInRange","path","canvasHeight","canvasWidth","horizontalPadding","verticalPadding","gradientColors","gradientFrom","gradientTo","styles","svg","undefined","create","flex"],"mappings":"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","sourcesContent":["import { Canvas, LinearGradient, Path, vec } from '@shopify/react-native-skia'\nimport { getSixDigitHex } from './utils/getSixDigitHex'\nimport React, { useCallback, useMemo, useState } from 'react'\nimport { View, StyleSheet, LayoutChangeEvent } from 'react-native'\nimport {\n  createGraphPath,\n  getGraphPathRange,\n  getPointsInRange,\n  GraphPathRange,\n} from './CreateGraphPath'\nimport type { StaticLineGraphProps } from './LineGraphProps'\n\nexport function StaticLineGraph({\n  points: allPoints,\n  range,\n  color,\n  lineThickness = 3,\n  enableFadeInMask,\n  style,\n  ...props\n}: StaticLineGraphProps): React.ReactElement {\n  const [width, setWidth] = useState(0)\n  const [height, setHeight] = useState(0)\n\n  const onLayout = useCallback(\n    ({ nativeEvent: { layout } }: LayoutChangeEvent) => {\n      setWidth(Math.round(layout.width))\n      setHeight(Math.round(layout.height))\n    },\n    []\n  )\n\n  const pathRange: GraphPathRange = useMemo(\n    () => getGraphPathRange(allPoints, range),\n    [allPoints, range]\n  )\n\n  const pointsInRange = useMemo(\n    () => getPointsInRange(allPoints, pathRange),\n    [allPoints, pathRange]\n  )\n\n  const path = useMemo(\n    () =>\n      createGraphPath({\n        pointsInRange: pointsInRange,\n        range: pathRange,\n        canvasHeight: height,\n        canvasWidth: width,\n        horizontalPadding: lineThickness,\n        verticalPadding: lineThickness,\n      }),\n    [height, lineThickness, pathRange, pointsInRange, width]\n  )\n\n  const gradientColors = useMemo(\n    () => [`${getSixDigitHex(color)}00`, `${getSixDigitHex(color)}ff`],\n    [color]\n  )\n  const gradientFrom = useMemo(() => vec(0, 0), [])\n  const gradientTo = useMemo(() => vec(width * 0.15, 0), [width])\n\n  return (\n    <View {...props} style={style} onLayout={onLayout}>\n      {/* Fix for react-native-skia's incorrect type declarations */}\n      <Canvas style={styles.svg}>\n        <Path\n          path={path}\n          strokeWidth={lineThickness}\n          color={enableFadeInMask ? undefined : color}\n          style=\"stroke\"\n          strokeJoin=\"round\"\n          strokeCap=\"round\"\n        >\n          {enableFadeInMask && (\n            <LinearGradient\n              start={gradientFrom}\n              end={gradientTo}\n              colors={gradientColors}\n            />\n          )}\n        </Path>\n      </Canvas>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  svg: {\n    flex: 1,\n  },\n})\n"]}