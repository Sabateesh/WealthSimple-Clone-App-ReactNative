{"version":3,"sources":["StaticLineGraph.tsx"],"names":["StaticLineGraph","points","allPoints","range","color","lineThickness","enableFadeInMask","style","props","width","setWidth","height","setHeight","onLayout","nativeEvent","layout","Math","round","pathRange","pointsInRange","path","canvasHeight","canvasWidth","horizontalPadding","verticalPadding","gradientColors","gradientFrom","gradientTo","styles","svg","undefined","StyleSheet","create","flex"],"mappings":"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","sourcesContent":["import { Canvas, LinearGradient, Path, vec } from '@shopify/react-native-skia'\nimport { getSixDigitHex } from './utils/getSixDigitHex'\nimport React, { useCallback, useMemo, useState } from 'react'\nimport { View, StyleSheet, LayoutChangeEvent } from 'react-native'\nimport {\n  createGraphPath,\n  getGraphPathRange,\n  getPointsInRange,\n  GraphPathRange,\n} from './CreateGraphPath'\nimport type { StaticLineGraphProps } from './LineGraphProps'\n\nexport function StaticLineGraph({\n  points: allPoints,\n  range,\n  color,\n  lineThickness = 3,\n  enableFadeInMask,\n  style,\n  ...props\n}: StaticLineGraphProps): React.ReactElement {\n  const [width, setWidth] = useState(0)\n  const [height, setHeight] = useState(0)\n\n  const onLayout = useCallback(\n    ({ nativeEvent: { layout } }: LayoutChangeEvent) => {\n      setWidth(Math.round(layout.width))\n      setHeight(Math.round(layout.height))\n    },\n    []\n  )\n\n  const pathRange: GraphPathRange = useMemo(\n    () => getGraphPathRange(allPoints, range),\n    [allPoints, range]\n  )\n\n  const pointsInRange = useMemo(\n    () => getPointsInRange(allPoints, pathRange),\n    [allPoints, pathRange]\n  )\n\n  const path = useMemo(\n    () =>\n      createGraphPath({\n        pointsInRange: pointsInRange,\n        range: pathRange,\n        canvasHeight: height,\n        canvasWidth: width,\n        horizontalPadding: lineThickness,\n        verticalPadding: lineThickness,\n      }),\n    [height, lineThickness, pathRange, pointsInRange, width]\n  )\n\n  const gradientColors = useMemo(\n    () => [`${getSixDigitHex(color)}00`, `${getSixDigitHex(color)}ff`],\n    [color]\n  )\n  const gradientFrom = useMemo(() => vec(0, 0), [])\n  const gradientTo = useMemo(() => vec(width * 0.15, 0), [width])\n\n  return (\n    <View {...props} style={style} onLayout={onLayout}>\n      {/* Fix for react-native-skia's incorrect type declarations */}\n      <Canvas style={styles.svg}>\n        <Path\n          path={path}\n          strokeWidth={lineThickness}\n          color={enableFadeInMask ? undefined : color}\n          style=\"stroke\"\n          strokeJoin=\"round\"\n          strokeCap=\"round\"\n        >\n          {enableFadeInMask && (\n            <LinearGradient\n              start={gradientFrom}\n              end={gradientTo}\n              colors={gradientColors}\n            />\n          )}\n        </Path>\n      </Canvas>\n    </View>\n  )\n}\n\nconst styles = StyleSheet.create({\n  svg: {\n    flex: 1,\n  },\n})\n"]}